[tox]
envlist = 3.8,3.9,3.10,3.11,3.12,3.13

[testenv]
commands =
    pytest {posargs:test} --junitxml=junit-python{envname}.xml --verbose

[testenv:3.8]
basepython = python3.8
deps =
    atomicwrites==1.4.1
    attrs==20.3.0
    more-itertools==10.5.0
    pluggy==0.13.1
    py==1.11.0
    pytest==4.5.0
    PyYAML==5.1
    setuptools==45.3.0
    six==1.16.0
    wcwidth==0.2.13

[testenv:3.9]
basepython = python3.9
deps =
    exceptiongroup==1.2.2
    iniconfig==2.0.0
    packaging==24.1
    pluggy==1.5.0
    pytest==8.3.3
    PyYAML==6.0.2
    tomli==2.0.1

[testenv:3.10]
basepython = python3.10
setenv =
    PIP_CONSTRAINT={toxinidir}/tox/pyyaml-5.4.1-constraints.txt
deps =
    attrs==24.2.0
    iniconfig==2.0.0
    packaging==24.1
    pluggy==0.13.1
    py==1.11.0
    pyperf==2.2.0
    pytest==6.2.4
    PyYAML==5.4.1
    toml==0.10.2

[testenv:3.11]
basepython = python3.11
deps =
    attrs==24.2.0
    iniconfig==2.0.0
    packaging==24.1
    pluggy==1.5.0
    py==1.11.0
    pyperf==2.4.1
    pytest==7.1.2
    PyYAML==6.0
    tomli==2.0.1

[testenv:3.12]
basepython = python3.12
deps =
    iniconfig==2.0.0
    packaging==24.1
    pluggy==1.5.0
    psutil==6.0.0
    pyperf==2.6.1
    pytest==7.4.2
    PyYAML==6.0.1

[testenv:3.13]
basepython = python3.13
deps =
    iniconfig==2.0.0
    packaging==24.1
    pluggy==1.5.0
    psutil==6.0.0
    pyperf==2.7.0
    pytest==8.3.3
    PyYAML==6.0.2
